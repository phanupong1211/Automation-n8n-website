(()=>{var e={};e.id=276,e.ids=[276],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1018:(e,s,t)=>{"use strict";t.r(s),t.d(s,{patchFetch:()=>g,routeModule:()=>p,serverHooks:()=>f,workAsyncStorage:()=>m,workUnitAsyncStorage:()=>h});var n={};t.r(n),t.d(n,{POST:()=>d});var o=t(6559),a=t(8088),r=t(7719),i=t(2190),l=t(5901);let c={contact:{phone:"(+66) 85-835-1266",email:"Phanupong_C@npp.co.th",address:"1 tatoom, Srimahapot, Prachin buri 25140, Thailand"},summary:"à¹€à¸£à¸²à¸„à¸·à¸­à¸—à¸µà¸¡à¸œà¸¹à¹‰à¹€à¸Šà¸µà¹ˆà¸¢à¸§à¸Šà¸²à¸à¸—à¸µà¹ˆà¹ƒà¸«à¹‰à¸šà¸£à¸´à¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š à¸‹à¹ˆà¸­à¸¡à¸šà¸³à¸£à¸¸à¸‡ à¹à¸¥à¸°à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸­à¸¸à¸•à¸ªà¸²à¸«à¸à¸£à¸£à¸¡ à¹€à¸Šà¹ˆà¸™ à¸§à¸²à¸¥à¹Œà¸§ (Control Valve), à¹€à¸‹à¸Ÿà¸•à¸µà¹‰à¸§à¸²à¸¥à¹Œà¸§ (Safety Valve), à¹à¸—à¹ˆà¸™à¸Šà¸±à¹ˆà¸‡à¸”à¸´à¸ˆà¸´à¸—à¸±à¸¥ (Weight Scale) à¹à¸¥à¸°à¸£à¸°à¸šà¸šà¸§à¸±à¸”à¸­à¸±à¸•à¸£à¸²à¸à¸²à¸£à¹„à¸«à¸¥ (Flow Measurement System) à¸”à¹‰à¸§à¸¢ à¸›à¸£à¸°à¸ªà¸šà¸à¸²à¸£à¸“à¹Œà¹à¸¥à¸°à¸¡à¸²à¸•à¸£à¸à¸²à¸™à¸„à¸¸à¸“à¸ à¸²à¸žà¸ªà¸¹à¸‡ à¹€à¸£à¸²à¸¡à¸¸à¹ˆà¸‡à¹€à¸™à¹‰à¸™à¹€à¸žà¸´à¹ˆà¸¡à¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸ž à¹à¸¥à¸°à¸¢à¸·à¸”à¸­à¸²à¸¢à¸¸à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸‚à¸­à¸‡à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸ˆà¸±à¸à¸£",skills:{Valve:["Valve maintenance","Safety Valve maintenance","Overhaul","Leakage Test","Calibration","On-Line Test Safety Valve"],Flow:["flow tube maintenance","flow measurement","installation","Commissioning","Ultrasonic Clamp On"],Scale:["weight scale calibration","Truck scale maintenance","Load Cell Check","Floor Scale maintenance","Electric Floor Scale maintenance"],IoT:["Lorawan","Remote Control","IoT Solution","Dashboards","Automation system"],other:["Develop, improve, and analyze the automation section's machinery and equipment."]}};function u(e){return e.includes("skill")||e.includes("à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆ")||e.includes("à¸—à¸±à¸à¸©à¸°")||e.includes("à¸‡à¸²à¸™")||e.includes("à¸šà¸£à¸´à¸à¸²à¸£")||e.includes("à¸£à¸±à¸šà¸‡à¸²à¸™")?`à¸—à¸µà¸¡ Instrument service à¸¡à¸µà¸—à¸±à¸à¸©à¸°à¹à¸¥à¸°à¸„à¸§à¸²à¸¡à¹€à¸Šà¸µà¹ˆà¸¢à¸§à¸Šà¸²à¸à¹ƒà¸™à¸‡à¸²à¸™ Maintenance à¹à¸¥à¸° Automation à¸”à¸±à¸‡à¸™à¸µà¹‰:
    ðŸ”§ Valve: ${c.skills.Valve.join(", ")}
    ðŸ’§ Flow Measurement: ${c.skills.Flow.join(", ")}
    âš–ï¸ Scale: ${c.skills.Scale.join(", ")}
    ðŸŒ IoT & Automation: ${c.skills.IoT.join(", ")}
    ðŸ›  à¸­à¸·à¹ˆà¸™à¹†: ${c.skills.other.join(", ")}

    à¹€à¸£à¸²à¸¡à¸µà¸ˆà¸¸à¸”à¹€à¸”à¹ˆà¸™à¹ƒà¸™à¸à¸²à¸£à¹€à¸žà¸´à¹ˆà¸¡à¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸ž à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š à¹à¸¥à¸°à¸‹à¹ˆà¸­à¸¡à¸šà¸³à¸£à¸¸à¸‡à¸£à¸°à¸šà¸šà¸­à¸¸à¸•à¸ªà¸²à¸«à¸à¸£à¸£à¸¡à¹ƒà¸«à¹‰à¸žà¸£à¹‰à¸­à¸¡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸ªà¸¹à¸‡à¸ªà¸¸à¸”!`:e.includes("experience")||e.includes("work")||e.includes("job")||e.includes("à¸›à¸£à¸°à¸ªà¸šà¸à¸²à¸£à¸“à¹Œ")||e.includes("à¹€à¸Šà¸µà¹ˆà¸¢à¸§à¸Šà¸²à¸")?`à¸—à¸µà¸¡ Instrument service à¸¡à¸µà¸›à¸£à¸°à¸ªà¸šà¸à¸²à¸£à¸“à¹Œà¸¡à¸²à¸à¸à¸§à¹ˆà¸² 4 à¸›à¸µ à¹ƒà¸™à¸à¸²à¸£à¹ƒà¸«à¹‰à¸šà¸£à¸´à¸à¸²à¸£ Maintenance Engineering à¸ªà¸³à¸«à¸£à¸±à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸­à¸¸à¸•à¸ªà¸²à¸«à¸à¸£à¸£à¸¡ à¹€à¸Šà¹ˆà¸™ Control Valve, Safety Valve, Weight Scale à¹à¸¥à¸° Flow Measurement System à¹‚à¸”à¸¢à¸¡à¸¸à¹ˆà¸‡à¹€à¸™à¹‰à¸™à¹€à¸žà¸´à¹ˆà¸¡à¸„à¸§à¸²à¸¡à¸™à¹ˆà¸²à¹€à¸Šà¸·à¹ˆà¸­à¸–à¸·à¸­ à¸¥à¸” Downtime à¹à¸¥à¸°à¸¢à¸·à¸”à¸­à¸²à¸¢à¸¸à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸ˆà¸±à¸à¸£à¹ƒà¸«à¹‰à¸à¸±à¸šà¸¥à¸¹à¸à¸„à¹‰à¸²à¹ƒà¸™à¸«à¸¥à¸²à¸¢à¸ à¸²à¸„à¸­à¸¸à¸•à¸ªà¸²à¸«à¸à¸£à¸£à¸¡.`:e.includes("à¹‚à¸›à¸£à¹€à¸ˆà¸„")||e.includes("project")||e.includes("technology")||e.includes("portfolio")||e.includes("à¸œà¸¥à¸‡à¸²à¸™")||e.includes("à¹‚à¸„à¸£à¸‡à¸à¸²à¸£")||e.includes("IoT")||e.includes("Lorawan")||e.includes("smart")?`à¸™à¸µà¹ˆà¸„à¸·à¸­à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œà¸ªà¸³à¸„à¸±à¸à¸‚à¸­à¸‡à¸—à¸µà¸¡ Instrument service:

    ðŸš° Smart Utility Water Monitoring System - à¹ƒà¸Šà¹‰ LoRaWAN à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸™à¹‰à¸³à¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œ à¸¥à¸”à¸ à¸²à¸£à¸°à¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸§à¸±à¸”à¸«à¸™à¹‰à¸²à¸‡à¸²à¸™, 
    ðŸ’§ AMR Water Meter - à¸£à¸°à¸šà¸šà¸­à¹ˆà¸²à¸™à¸«à¸™à¹ˆà¸§à¸¢à¸¡à¸´à¹€à¸•à¸­à¸£à¹Œà¸™à¹‰à¸³à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´ à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆ Dashboard, 
    ðŸŒ± Bloom Automatic - à¸£à¸°à¸šà¸šà¸„à¸§à¸šà¸„à¸¸à¸¡à¸£à¸”à¸™à¹‰à¸³à¸•à¹‰à¸™à¸à¸¥à¹‰à¸²à¸œà¹ˆà¸²à¸™ Dashboard à¹à¸¥à¸° Mobile App

    à¸—à¸¸à¸à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œà¸¡à¸¸à¹ˆà¸‡à¸žà¸±à¸’à¸™à¸²à¸à¸²à¸£à¸šà¸³à¸£à¸¸à¸‡à¸£à¸±à¸à¸©à¸²à¹€à¸Šà¸´à¸‡à¸›à¹‰à¸­à¸‡à¸à¸±à¸™ (Preventive Maintenance) à¹à¸¥à¸°à¹€à¸žà¸´à¹ˆà¸¡à¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸žà¸à¸£à¸°à¸šà¸§à¸™à¸à¸²à¸£à¸œà¸¥à¸´à¸•.`:e.includes("contact")||e.includes("email")||e.includes("phone")||e.includes("reach")||e.includes("à¸•à¸´à¸”à¸•à¹ˆà¸­")?`à¸„à¸¸à¸“à¸ªà¸²à¸¡à¸²à¸£à¸–à¸•à¸´à¸”à¸•à¹ˆà¸­à¸—à¸µà¸¡ Instrument service à¹„à¸”à¹‰à¸—à¸µà¹ˆ:

    ðŸ“§ Email: ${c.contact.email}
    ðŸ“± Phone: ${c.contact.phone}

    à¹€à¸£à¸²à¸¢à¸´à¸™à¸”à¸µà¹ƒà¸«à¹‰à¸„à¸³à¸›à¸£à¸¶à¸à¸©à¸²à¹à¸¥à¸°à¸­à¸­à¸à¹à¸šà¸šà¸šà¸£à¸´à¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š/à¸‹à¹ˆà¸­à¸¡à¸šà¸³à¸£à¸¸à¸‡à¹ƒà¸«à¹‰à¹€à¸«à¸¡à¸²à¸°à¸à¸±à¸šà¹‚à¸£à¸‡à¸‡à¸²à¸™à¸«à¸£à¸·à¸­à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™à¸‚à¸­à¸‡à¸„à¸¸à¸“!`:e.includes("hello")||e.includes("hi")||e.includes("à¸ªà¸§à¸±à¸ªà¸”à¸µ")||e.includes("who")||e.includes("about")||e.includes("à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸š")?`à¸ªà¸§à¸±à¸ªà¸”à¸µà¸„à¸£à¸±à¸š! à¸œà¸¡à¹€à¸›à¹‡à¸™ AI à¸œà¸¹à¹‰à¸Šà¹ˆà¸§à¸¢à¸‚à¸­à¸‡à¸—à¸µà¸¡ Instrument serviceðŸ‘‹

    ${c.summary}

    à¸„à¸¸à¸“à¸ªà¸²à¸¡à¸²à¸£à¸–à¸–à¸²à¸¡à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸š:
    â€¢ ðŸ”§ à¸—à¸±à¸à¸©à¸°à¹à¸¥à¸°à¸„à¸§à¸²à¸¡à¹€à¸Šà¸µà¹ˆà¸¢à¸§à¸Šà¸²à¸à¸”à¹‰à¸²à¸™à¸‡à¸²à¸™ Maintenance & Automation, 
    â€¢ ðŸ—ï¸ à¸›à¸£à¸°à¸ªà¸šà¸à¸²à¸£à¸“à¹Œà¹à¸¥à¸°à¹‚à¸„à¸£à¸‡à¸à¸²à¸£à¸—à¸µà¹ˆà¸œà¹ˆà¸²à¸™à¸¡à¸², 
    â€¢ ðŸ“ž à¸Šà¹ˆà¸­à¸‡à¸—à¸²à¸‡à¸à¸²à¸£à¸•à¸´à¸”à¸•à¹ˆà¸­à¹à¸¥à¸°à¸šà¸£à¸´à¸à¸²à¸£, 
    â€¢ ðŸŒ à¸à¸²à¸£à¸™à¸³ IoT à¹à¸¥à¸° AI à¸¡à¸²à¹ƒà¸Šà¹‰à¹ƒà¸™à¸‡à¸²à¸™à¸šà¸³à¸£à¸¸à¸‡à¸£à¸±à¸à¸©à¸², 

    à¸ªà¸™à¹ƒà¸ˆà¹€à¸£à¸·à¹ˆà¸­à¸‡à¹„à¸«à¸™à¹€à¸›à¹‡à¸™à¸žà¸´à¹€à¸¨à¸© à¹à¸ˆà¹‰à¸‡à¹„à¸”à¹‰à¹€à¸¥à¸¢à¸„à¸£à¸±à¸š!`:`à¸‚à¸­à¸šà¸„à¸¸à¸“à¸ªà¸³à¸«à¸£à¸±à¸šà¸„à¸³à¸–à¸²à¸¡à¸„à¸£à¸±à¸š! à¸‚à¸“à¸°à¸™à¸µà¹‰à¸£à¸°à¸šà¸šà¸•à¸­à¸šà¸„à¸³à¸–à¸²à¸¡à¸­à¸±à¸ˆà¸‰à¸£à¸´à¸¢à¸°à¸‚à¸±à¸”à¸‚à¹‰à¸­à¸‡ à¸«à¸²à¸à¸„à¸¸à¸“à¸ªà¸™à¹ƒà¸ˆà¹€à¸£à¸·à¹ˆà¸­à¸‡à¸‡à¸²à¸™à¸‹à¹ˆà¸­à¸¡à¸šà¸³à¸£à¸¸à¸‡ à¸§à¸²à¸¥à¹Œà¸§ à¹€à¸‹à¸Ÿà¸•à¸µà¹‰à¸§à¸²à¸¥à¹Œà¸§ à¹à¸—à¹ˆà¸™à¸Šà¸±à¹ˆà¸‡à¸”à¸´à¸ˆà¸´à¸—à¸±à¸¥ à¸£à¸°à¸šà¸šà¸§à¸±à¸”à¸­à¸±à¸•à¸£à¸²à¸à¸²à¸£à¹„à¸«à¸¥ à¸«à¸£à¸·à¸­ IoT à¸ªà¸²à¸¡à¸²à¸£à¸–à¸•à¸´à¸”à¸•à¹ˆà¸­à¸Šà¹ˆà¸­à¸‡à¸—à¸²à¸‡à¸”à¸±à¸‡à¸™à¸µà¹‰à¹„à¸”à¹‰à¹€à¸¥à¸¢à¸„à¸£à¸±à¸šðŸ˜€

  ðŸ“§ Email: ${c.contact.email}, 
  ðŸ“± Phone: ${c.contact.phone}
  `}async function d(e){let s="",t="";try{let{message:n,history:o,sessionId:a}=await e.json();if(s=n||"",t=a||`session_${Date.now()}`,!s)return i.NextResponse.json({error:"Message is required"},{status:400});console.log(`[Chat API] Session: ${t}, Message: ${s.substring(0,50)}...`);try{let e=JSON.stringify({message:s,history:o,sessionId:t,responseUrl:"https://automation-n8n-website.onrender.com/api/webhook",sessionToken:(0,l.F$)(t),timestamp:new Date().toISOString()}),n=(0,l.wF)(e),a=await fetch("http://localhost:5678/webhook/addcb960-afcc-4b62-8f41-105b65b53429",{method:"POST",headers:{"Content-Type":"application/json","x-session-id":t,"x-webhook-source":"portfolio-chat","x-signature":n},body:e,signal:AbortSignal.timeout(15e3)});if(a.ok){let e=await a.json();if(console.log(`[Chat API] Webhook success for session ${t}:`,e),e.useSSE||e.async||"processing"===e.status||e.message&&e.message.includes("Workflow was started"))return console.log(`[Chat API] Using SSE mode for session ${t} - n8n will send response later`),i.NextResponse.json({success:!0,useSSE:!0,sessionId:t,message:"Response will be sent via real-time connection"});let s="";if("string"==typeof e)s=e;else if(e.response)s=e.response;else if(e.message)s=e.message;else if(e.reply)s=e.reply;else if(e.text)s=e.text;else throw console.log("[Chat API] Unexpected webhook response format:",e),console.log(`[Chat API] Using fallback response for session ${t}`),Error("Unexpected webhook response format");return console.log(`[Chat API] Immediate response for session ${t}:`,s),i.NextResponse.json({message:s,useSSE:!1})}{let e=await a.text();throw console.log(`[Chat API] Webhook error ${a.status}:`,e),Error(`Webhook returned status: ${a.status}`)}}catch(n){console.log(`[Chat API] Webhook failed for session ${t}, using fallback:`,n);let e=u(s.toLowerCase());return console.log(`[Chat API] Fallback response for session ${t}:`,e.substring(0,100)+"..."),i.NextResponse.json({message:e,useSSE:!1,fallback:!0})}}catch(n){console.error(`[Chat API] Final error for session ${t}:`,n);let e=u(s.toLowerCase()||"");return console.log(`[Chat API] Final fallback response for session ${t}:`,e.substring(0,100)+"..."),i.NextResponse.json({message:e,useSSE:!1,fallback:!0,error:"System temporarily unavailable"})}}let p=new o.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/chat/route",pathname:"/api/chat",filename:"route",bundlePath:"app/api/chat/route"},resolvedPagePath:"C:\\Users\\phanu\\Automation-n8n+webiste\\Automation-n8n+webiste\\src\\app\\api\\chat\\route.ts",nextConfigOutput:"",userland:n}),{workAsyncStorage:m,workUnitAsyncStorage:h,serverHooks:f}=p;function g(){return(0,r.patchFetch)({workAsyncStorage:m,workUnitAsyncStorage:h})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5901:(e,s,t)=>{"use strict";t.d(s,{wF:()=>i,F$:()=>c,Rw:()=>l});let n=require("crypto");var o=t.n(n);let a=process.env.WEBHOOK_SECRET||"boom-portfolio-webhook-secret-2024";function r(e){return o().createHmac("sha256",a).update(e,"utf8").digest("hex")}function i(e){return`sha256=${r(e)}`}function l(e,s){return s?s.startsWith("sha256=")?!function(e,s){let t=r(e),n=Buffer.from(`sha256=${t}`,"utf8"),a=Buffer.from(s,"utf8");return n.length===a.length&&o().timingSafeEqual(n,a)}(e,s)?{valid:!1,error:"Invalid signature"}:{valid:!0}:{valid:!1,error:"Invalid signature format"}:{valid:!1,error:"Missing signature header"}}function c(e){let s=Date.now().toString(),t=`${e}:${s}`,n=o().createHmac("sha256",a).update(t,"utf8").digest("hex");return`${s}.${n}`}},6487:()=>{},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),n=s.X(0,[719,580],()=>t(1018));module.exports=n})();