{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/phanu/BoomBigNose-n8n%2Bwebiste/BoomBigNose-portfolio/src/app/api/analytics/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\n\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json();\n\n    console.log('üìä Analytics API received data:', {\n      eventType: body.eventType,\n      buttonType: body.buttonType,\n      buttonText: body.buttonText,\n      sessionId: body.userInfo?.sessionId\n    });\n\n    // Forward to n8n webhook\n    const n8nWebhookUrl = 'http://localhost:5678/webhook/addcb960-afcc-4b62-8f41-105b65b53429';\n\n    try {\n      const response = await fetch(n8nWebhookUrl, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-API-Key': 'boom-portfolio-2024'\n        },\n        body: JSON.stringify(body),\n        // Add timeout to prevent hanging\n        signal: AbortSignal.timeout(5000)\n      });\n\n      if (!response.ok) {\n        console.warn('‚ùå n8n webhook returned error:', response.status, response.statusText);\n        // Still return success to client since we received the data\n        return NextResponse.json({\n          success: true,\n          warning: 'Data received but n8n webhook failed',\n          n8nStatus: response.status\n        });\n      }\n\n      console.log('‚úÖ Successfully forwarded analytics data to n8n');\n      return NextResponse.json({ success: true, n8nStatus: 'ok' });\n\n    } catch (n8nError) {\n      console.warn('‚ùå Failed to reach n8n webhook:', n8nError);\n      // Still return success to client since we received the data\n      return NextResponse.json({\n        success: true,\n        warning: 'Data received but n8n webhook unreachable',\n        error: n8nError instanceof Error ? n8nError.message : 'Unknown error'\n      });\n    }\n\n  } catch (error) {\n    console.error('‚ùå Analytics API error:', error);\n    return NextResponse.json(\n      { error: 'Internal server error', details: error instanceof Error ? error.message : 'Unknown error' },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;AAAA;;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAE/B,QAAQ,GAAG,CAAC,mCAAmC;YAC7C,WAAW,KAAK,SAAS;YACzB,YAAY,KAAK,UAAU;YAC3B,YAAY,KAAK,UAAU;YAC3B,WAAW,KAAK,QAAQ,EAAE;QAC5B;QAEA,yBAAyB;QACzB,MAAM,gBAAgB;QAEtB,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,eAAe;gBAC1C,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,aAAa;gBACf;gBACA,MAAM,KAAK,SAAS,CAAC;gBACrB,iCAAiC;gBACjC,QAAQ,YAAY,OAAO,CAAC;YAC9B;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,QAAQ,IAAI,CAAC,iCAAiC,SAAS,MAAM,EAAE,SAAS,UAAU;gBAClF,4DAA4D;gBAC5D,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;oBACvB,SAAS;oBACT,SAAS;oBACT,WAAW,SAAS,MAAM;gBAC5B;YACF;YAEA,QAAQ,GAAG,CAAC;YACZ,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;gBAAM,WAAW;YAAK;QAE5D,EAAE,OAAO,UAAU;YACjB,QAAQ,IAAI,CAAC,kCAAkC;YAC/C,4DAA4D;YAC5D,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBACvB,SAAS;gBACT,SAAS;gBACT,OAAO,oBAAoB,QAAQ,SAAS,OAAO,GAAG;YACxD;QACF;IAEF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,OAAO;YAAyB,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QAAgB,GACpG;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}