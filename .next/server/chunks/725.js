exports.id=725,exports.ids=[725],exports.modules={1135:()=>{},4401:(e,t,s)=>{"use strict";s.d(t,{ChatWidgetWrapper:()=>u});var r=s(687),a=s(6189),i=s(3210),n=s(1860),o=s(3872),l=s(8869),d=s(3753),c=s(1862),m=s(7900),h=s(9877),g=s(8920);function b(){let[e,t]=(0,i.useState)(!1),[s]=(0,i.useState)(()=>""),[a,b]=(0,i.useState)([{id:"1",content:"สวัสดีครับ! ผมเป็น AI ผู้ช่วยของทีม Instrument สามารถถามเกี่ยวกับประสบการณ์ ทักษะ หรือโครงการของเขาได้เลยครับ!",role:"assistant",timestamp:new Date}]),[u,p]=(0,i.useState)(""),[x,v]=(0,i.useState)(!1),[f,y]=(0,i.useState)(null),[w,j]=(0,i.useState)("disconnected"),N=(0,i.useRef)(null),k=async()=>{if(!u.trim()||x)return;let e={id:Date.now().toString(),content:u,role:"user",timestamp:new Date},t={id:`loading_${Date.now()}`,content:"กำลังคิด...",role:"assistant",timestamp:new Date,isLoading:!0};b(s=>[...s,e,t]),p(""),v(!0);let r=setTimeout(()=>{x&&(b(e=>[...e.filter(e=>!e.isLoading),{id:(Date.now()+2).toString(),content:"ขออภัยครับ การตอบกลับใช้เวลานานกว่าปกติ กรุณาลองใหม่อีกครั้งครับ",role:"assistant",timestamp:new Date}]),v(!1))},3e4);try{let e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:u,history:a,sessionId:s})});if(!e.ok){let t=await e.text();throw console.error("API Error:",e.status,t),`new Error(API Error: ${e.status})`}let t=await e.json();clearTimeout(r),t.message&&!t.useSSE?(console.log("Received immediate response:",t),b(e=>[...e.filter(e=>!e.isLoading),{id:(Date.now()+1).toString(),content:t.message,role:"assistant",timestamp:new Date}]),v(!1)):"disconnected"===w&&t.message?(console.log("Using fallback response due to disconnected SSE:",t),b(e=>[...e.filter(e=>!e.isLoading),{id:(Date.now()+1).toString(),content:t.message,role:"assistant",timestamp:new Date}]),v(!1)):t.useSSE?console.log("Waiting for SSE response for session:",s):(console.log("No clear response format, using fallback"),b(e=>[...e.filter(e=>!e.isLoading),{id:(Date.now()+1).toString(),content:"ขออภัยครับ ได้รับข้อความแล้ว แต่ระบบมีปัญหาในการตอบกลับ กรุณาลองใหม่อีกครั้งครับ",role:"assistant",timestamp:new Date}]),v(!1))}catch(e){console.error("Error sending message:",e),clearTimeout(r),b(e=>[...e.filter(e=>!e.isLoading),{id:(Date.now()+1).toString(),content:"ขออภัยครับ ตอนนี้มีปัญหาในการตอบกลับ กรุณาลองใหม่อีกครั้งครับ",role:"assistant",timestamp:new Date}]),v(!1)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.P.button,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>t(!e),className:"fixed bottom-4 right-4 sm:bottom-6 sm:right-6 z-50 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white p-3 sm:p-4 rounded-full shadow-lg transition-all duration-200 hover:scale-110","aria-label":"Toggle chat",children:e?(0,r.jsx)(n.A,{size:24}):(0,r.jsx)(o.A,{size:24})}),(0,r.jsx)(g.N,{children:e&&(0,r.jsxs)(h.P.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},className:"fixed bottom-16 right-4 sm:bottom-24 sm:right-6 z-40 w-80 sm:w-96 h-[30rem] sm:h-[35rem] max-w-[calc(100vw-2rem)] bg-white dark:bg-gray-800 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-700 flex flex-col",children:[(0,r.jsxs)("div",{className:"bg-blue-600 dark:bg-blue-500 text-white p-4 rounded-t-lg",children:[(0,r.jsx)("h3",{className:"font-semibold",children:"คุยกับ AI ของทีม"}),(0,r.jsx)("p",{className:"text-sm text-blue-100 dark:text-blue-200",children:"ถามอะไรเกี่ยวกับทีม Instrument ได้เลย!"})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[a.map(e=>(0,r.jsx)("div",{className:`flex ${"user"===e.role?"justify-end":"justify-start"}`,children:(0,r.jsxs)("div",{className:`flex items-start space-x-2 max-w-[80%] ${"user"===e.role?"flex-row-reverse space-x-reverse":""}`,children:[(0,r.jsx)("div",{className:`p-2 rounded-full ${"user"===e.role?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:"user"===e.role?(0,r.jsx)(l.A,{size:16}):(0,r.jsx)(d.A,{size:16})}),(0,r.jsx)("div",{className:`p-3 rounded-lg ${"user"===e.role?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"}`,children:e.isLoading?(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(c.A,{size:16,className:"animate-spin"}),(0,r.jsx)("p",{className:"text-sm",children:e.content})]}):(0,r.jsx)("p",{className:"text-sm",children:e.content})})]})},e.id)),(0,r.jsx)("div",{ref:N})]}),(0,r.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("input",{type:"text",value:u,onChange:e=>p(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),k())},placeholder:"ถามอะไรก็ได้...",className:"flex-1 p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:x}),(0,r.jsx)("button",{onClick:k,disabled:!u.trim()||x,className:"p-2 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:(0,r.jsx)(m.A,{size:16})})]})})]})})]})}function u(){return(0,a.usePathname)().startsWith("/reportai")?null:(0,r.jsx)(b,{})}},4431:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m,metadata:()=>c});var r=s(7413),a=s(2376),i=s.n(a),n=s(8726),o=s.n(n);s(1135);var l=s(8928),d=s(9927);s(2709);let c={title:"(Automation Service) - Instrument",description:"We are experts providing inspection, maintenance, and improvement services for industrial equipment."};function m({children:e}){return(0,r.jsx)("html",{lang:"en",className:"scroll-smooth",suppressHydrationWarning:!0,children:(0,r.jsxs)("body",{className:`${i().variable} ${o().variable} antialiased bg-white text-gray-900`,suppressHydrationWarning:!0,children:[(0,r.jsx)(l.Navigation,{}),(0,r.jsx)("main",{className:"min-h-screen",children:e}),(0,r.jsx)(d.ChatWidgetWrapper,{})]})})}},6246:(e,t,s)=>{"use strict";s.d(t,{Navigation:()=>h});var r=s(687),a=s(474),i=s(3210),n=s(5814),o=s.n(n),l=s(1860),d=s(2941),c=s(9877),m=s(8920);function h(){let[e,t]=(0,i.useState)(!1),[s,n]=(0,i.useState)(!1),h=[{href:"/",label:"Home"},{href:"/#about",label:"About"},{href:"/#experience",label:"Experience"},{href:"/reviews",label:"Reviews"},{href:"/document",label:"Document"},{href:"/training",label:"Training"},{href:"/#contact",label:"Contact"}];return(0,r.jsxs)(c.P.nav,{initial:{y:-100},animate:{y:0},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${s?"bg-white/20 backdrop-blur-md shadow-lg border-b border-gray-200/20":"bg-transparent"}`,children:[(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsx)(o(),{href:"/",className:"flex items-center gap-2",children:(0,r.jsx)(a.default,{src:"/images/logo.png",alt:"NIS Automation Logo",width:50,height:100,className:"h-8 w-auto object-contain"})}),(0,r.jsx)("div",{className:"hidden md:flex items-center space-x-8",children:h.map(e=>(0,r.jsx)(o(),{href:e.href,className:"text-gray-800 dark:text-gray-100 hover:text-blue-900 transition-colors duration-200 font-medium",children:e.label},e.href))}),(0,r.jsx)("div",{className:"md:hidden",children:(0,r.jsx)("button",{onClick:()=>t(!e),className:"p-2 rounded-lg bg-white text-black hover:bg-gray-100 transition-colors duration-200 border border-gray-200","aria-label":"Toggle menu",children:e?(0,r.jsx)(l.A,{size:24}):(0,r.jsx)(d.A,{size:24})})})]})}),(0,r.jsx)(m.N,{children:e&&(0,r.jsx)(c.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white border-t border-gray-200",children:(0,r.jsx)("div",{className:"px-4 py-2 space-y-1",children:h.map(e=>(0,r.jsx)(o(),{href:e.href,onClick:()=>t(!1),className:"block px-3 py-2 text-black hover:text-gray-800 hover:bg-gray-50 rounded-lg transition-colors duration-200",children:e.label},e.href))})})})]})}},6831:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6444,23)),Promise.resolve().then(s.t.bind(s,6042,23)),Promise.resolve().then(s.t.bind(s,8170,23)),Promise.resolve().then(s.t.bind(s,9477,23)),Promise.resolve().then(s.t.bind(s,9345,23)),Promise.resolve().then(s.t.bind(s,2089,23)),Promise.resolve().then(s.t.bind(s,6577,23)),Promise.resolve().then(s.t.bind(s,1307,23))},7079:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6346,23)),Promise.resolve().then(s.t.bind(s,7924,23)),Promise.resolve().then(s.t.bind(s,5656,23)),Promise.resolve().then(s.t.bind(s,99,23)),Promise.resolve().then(s.t.bind(s,8243,23)),Promise.resolve().then(s.t.bind(s,8827,23)),Promise.resolve().then(s.t.bind(s,2763,23)),Promise.resolve().then(s.t.bind(s,7173,23))},7898:(e,t,s)=>{Promise.resolve().then(s.bind(s,9927)),Promise.resolve().then(s.bind(s,8928))},8066:(e,t,s)=>{Promise.resolve().then(s.bind(s,4401)),Promise.resolve().then(s.bind(s,6246))},8928:(e,t,s)=>{"use strict";s.d(t,{Navigation:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call Navigation() from the server but Navigation is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\phanu\\Automation-n8n+webiste\\Automation-n8n+webiste\\src\\components\\Navigation.tsx","Navigation")},9927:(e,t,s)=>{"use strict";s.d(t,{ChatWidgetWrapper:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call ChatWidgetWrapper() from the server but ChatWidgetWrapper is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\phanu\\Automation-n8n+webiste\\Automation-n8n+webiste\\src\\components\\ChatWidgetWrapper.tsx","ChatWidgetWrapper")}};